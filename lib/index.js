"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var a,n,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var PERSIAN_NUMBERS=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],PERSIAN_MONTHS=["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],GREGORIAN_MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"],PERSIAN_WEEK_DAYS=[{name:"شنبه",short:"ش"},{name:"یکشنبه",short:"ی"},{name:"دوشنبه",short:"د"},{name:"سه شنبه",short:"س"},{name:"چهارشنبه",short:"چ"},{name:"پنجشنبه",short:"پ"},{name:"جمعه",short:"ج",isWeekend:!0}],GREGORIAN_WEEK_DAYS=[{name:"Sunday",short:"S",isWeekend:!0},{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S",isWeekend:!0}],MINIMUM_SELECTABLE_YEAR_SUBTRACT=100,MAXIMUM_SELECTABLE_YEAR_SUM=50,TYPE_SINGLE_DATE="SINGLE_DATE",TYPE_RANGE="RANGE",TYPE_MUTLI_DATE="MUTLI_DATE",createUniqueRange=function(e,t){return Array.from(Array(e).keys()).map((function(e){return{value:e+1,id:"".concat(t,"-").concat(e)}}))},isSameDay=function(e,t){return!(!e||!t)&&(e.day===t.day&&e.month===t.month&&e.year===t.year)},putZero=function(e){return 1===e.toString().length?"0".concat(e):e},toExtendedDay=function(e){return[e.year,e.month,e.day]},shallowClone=function(e){return _objectSpread2({},e)},deepCloneObject=function(e){return JSON.parse(JSON.stringify(e,(function(e,t){return void 0===t?null:t})))},getDateAccordingToMonth=function(e,t){var a="NEXT"===t?1:-1,n=e.month+a,r=e.year;return n<1&&(n=12,r-=1),n>12&&(n=1,r+=1),{year:r,month:n,day:1}},hasProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)},getValueType=function(e){if(Array.isArray(e))return TYPE_MUTLI_DATE;if(hasProperty(e,"from")&&hasProperty(e,"to"))return TYPE_RANGE;if(!e||hasProperty(e,"year")&&hasProperty(e,"month")&&hasProperty(e,"day"))return TYPE_SINGLE_DATE;throw new TypeError("The passed value is malformed! Please make sure you're using one of the valid value types for date picker.")},jalaaliJs={toJalaali:toJalaali,toGregorian:toGregorian,isValidJalaaliDate:isValidJalaaliDate,isLeapJalaaliYear:isLeapJalaaliYear,jalaaliMonthLength:jalaaliMonthLength,jalCal:jalCal,j2d:j2d,d2j:d2j,g2d:g2d,d2g:d2g};function toJalaali(e,t,a){return"[object Date]"===Object.prototype.toString.call(e)&&(a=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),d2j(g2d(e,t,a))}function toGregorian(e,t,a){return d2g(j2d(e,t,a))}function isValidJalaaliDate(e,t,a){return e>=-61&&e<=3177&&t>=1&&t<=12&&a>=1&&a<=jalaaliMonthLength(e,t)}function isLeapJalaaliYear(e){return 0===jalCal(e).leap}function jalaaliMonthLength(e,t){return t<=6?31:t<=11?30:isLeapJalaaliYear(e)?30:29}function jalCal(e){var t,a,n,r,o,i,c=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],l=c.length,s=e+621,u=-14,d=c[0];if(e<d||e>=c[l-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<l&&(a=(t=c[i])-d,!(e<t));i+=1)u=u+8*div(a,33)+div(mod(a,33),4),d=t;return u=u+8*div(o=e-d,33)+div(mod(o,33)+3,4),4===mod(a,33)&&a-o==4&&(u+=1),r=20+u-(div(s,4)-div(3*(div(s,100)+1),4)-150),a-o<6&&(o=o-a+33*div(a+4,33)),-1===(n=mod(mod(o+1,33)-1,4))&&(n=4),{leap:n,gy:s,march:r}}function j2d(e,t,a){var n=jalCal(e);return g2d(n.gy,3,n.march)+31*(t-1)-div(t,7)*(t-7)+a-1}function d2j(e){var t,a=d2g(e).gy,n=a-621,r=jalCal(n);if((t=e-g2d(a,3,r.march))>=0){if(t<=185)return{jy:n,jm:1+div(t,31),jd:mod(t,31)+1};t-=186}else n-=1,t+=179,1===r.leap&&(t+=1);return{jy:n,jm:7+div(t,30),jd:mod(t,30)+1}}function g2d(e,t,a){var n=div(1461*(e+div(t-8,6)+100100),4)+div(153*mod(t+9,12)+2,5)+a-34840408;return n=n-div(3*div(e+100100+div(t-8,6),100),4)+752}function d2g(e){var t,a,n,r;return t=(t=4*e+139361631)+4*div(3*div(4*e+183187720,146097),4)-3908,a=5*div(mod(t,1461),4)+308,n=div(mod(a,153),5)+1,r=mod(div(a,153),12)+1,{gy:div(t,1461)-100100+div(8-r,6),gm:r,gd:n}}function div(e,t){return~~(e/t)}function mod(e,t){return e-~~(e/t)*t}var localeLanguages={en:{months:GREGORIAN_MONTHS,weekDays:GREGORIAN_WEEK_DAYS,weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",from:"from",to:"to",defaultPlaceholder:"Select...",digitSeparator:",",yearLetterSkip:0,isRtl:!1},fa:{months:PERSIAN_MONTHS,weekDays:PERSIAN_WEEK_DAYS,weekStartingIndex:1,getToday:function(e){var t=e.year,a=e.month,n=e.day,r=jalaaliJs.toJalaali(t,a,n);return{year:r.jy,month:r.jm,day:r.jd}},toNativeDate:function(e){var t=jalaaliJs.toGregorian.apply(jalaaliJs,_toConsumableArray(toExtendedDay(e)));return new Date(t.gy,t.gm-1,t.gd)},getMonthLength:function(e){return jalaaliJs.jalaaliMonthLength(e.year,e.month)},transformDigit:function(e){return e.toString().split("").map((function(e){return PERSIAN_NUMBERS[Number(e)]})).join("")},nextMonth:"ماه بعد",previousMonth:"ماه قبل",openMonthSelector:"نمایش انتخابگر ماه",openYearSelector:"نمایش انتخابگر سال",closeMonthSelector:"بستن انتخابگر ماه",closeYearSelector:"بستن انتخابگر ماه",from:"از",to:"تا",defaultPlaceholder:"انتخاب...",digitSeparator:"،",yearLetterSkip:-2,isRtl:!0}},getLocaleDetails=function(e){return"string"==typeof e?localeLanguages[e]:e},utils=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t="string"==typeof e?getLocaleDetails(e):e,a=t.months,n=t.getToday,r=t.toNativeDate,o=t.getMonthLength,i=t.weekStartingIndex,c=t.transformDigit,l=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return n({year:t,month:a,day:r})},s=function(e){return a[e-1]},u=function(e){return a.indexOf(e)+1},d=function(e){return(r(_objectSpread2({},e,{day:1})).getDay()+i)%7},m=function(e,t){return!(!e||!t)&&r(e)<r(t)},f=function(e){var t=e.day,a=e.from,n=e.to;if(!t||!a||!n)return!1;var o=r(t),i=r(a),c=r(n);return o>i&&o<c};return{getToday:l,getMonthName:s,getMonthNumber:u,getMonthLength:o,getMonthFirstWeekday:d,isBeforeDate:m,checkDayInDayRange:f,getLanguageDigits:c}},useLocaleUtils=function(e){return React.useMemo((function(){return utils(e)}),[e])},useLocaleLanguage=function(e){return React.useMemo((function(){return getLocaleDetails(e)}),[e])},getSlideDate=function(e){var t=e.parent,a=e.isInitialActiveChild,n=e.activeDate,r=e.monthChangeDirection;if(!t)return a?n:getDateAccordingToMonth(n,"NEXT");var o=t.children[a?0:1];return o.classList.contains("-shown")||o.classList.contains("-shownAnimated")?n:getDateAccordingToMonth(n,r)},animateContent=function(e){var t=e.parent,a=e.direction,n=Array.from(t.children),r=n.find((function(e){return e.classList.contains("-shown")})),o=n.find((function(e){return e!==r})),i=r.classList[0],c="NEXT"===a,l=function(e){return e?"-hiddenNext":"-hiddenPrevious"};o.style.transition="none",r.style.transition="",r.className="".concat(i," ").concat(l(!c)),o.className="".concat(i," ").concat(l(c)),o.classList.add("-shownAnimated")},handleSlideAnimationEnd=function(e){var t=e.target;t.classList.remove("-hiddenNext"),t.classList.remove("-hiddenPrevious"),t.classList.replace("-shownAnimated","-shown")},Header=function(e){var t=e.maximumDate,a=e.minimumDate,n=e.onMonthChange,r=e.activeDate,o=e.monthChangeDirection,i=e.onMonthSelect,c=e.onYearSelect,l=e.isMonthSelectorOpen,s=e.isYearSelectorOpen,u=e.locale,d=React.useRef(null),m=React.useRef(null),f=useLocaleUtils(u),h=f.getMonthName,y=f.isBeforeDate,g=f.getLanguageDigits,p=useLocaleLanguage(u),_=p.isRtl,v=p.nextMonth,S=p.previousMonth,D=p.openMonthSelector,E=p.closeMonthSelector,b=p.openYearSelector,R=p.closeYearSelector;React.useEffect((function(){o&&animateContent({direction:o,parent:m.current})}),[o]),React.useEffect((function(){var e=l||s,t=d.current.querySelector(".Calendar__monthYear.-shown .Calendar__monthText"),a=t.nextSibling,n=function(e){return e.classList.contains("-activeBackground")};if(!(!e&&!n(t)&&!n(a))){var r=_toConsumableArray(d.current.querySelectorAll(".Calendar__monthArrowWrapper")),o=l||n(t),i=o?t:a,c=o?a:t,u=o?1:-1;_&&(u*=-1);var m=e?1:.95,f=e?"".concat(u*c.offsetWidth/2):0;e?c.setAttribute("aria-hidden",!0):c.removeAttribute("aria-hidden"),c.setAttribute("tabindex",e?"-1":"0"),c.style.transform="",i.style.transform="scale(".concat(m,") ").concat(f?"translateX(".concat(f,"px)"):""),i.classList.toggle("-activeBackground"),c.classList.toggle("-hidden"),r.forEach((function(e){var t=e.classList.contains("-hidden");e.classList.toggle("-hidden"),t?(e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0")):(e.setAttribute("aria-hidden",!0),e.setAttribute("tabindex","-1"))}))}}),[l,s]);var C=t&&y(t,_objectSpread2({},r,{month:r.month+1,day:1})),A=a&&(y(_objectSpread2({},r,{day:1}),a)||isSameDay(a,_objectSpread2({},r,{day:1}))),N=function(e){Array.from(m.current.children).some((function(e){return e.classList.contains("-shownAnimated")}))||n(e)},T=[!0,!1].map((function(e){var t=function(e){var t=getSlideDate({isInitialActiveChild:e,monthChangeDirection:o,activeDate:r,parent:m.current}),a=g(t.year);return{month:h(t.month),year:a}}(e),a=t.month,n=t.year,u=a===h(r.month),d=_objectSpread2({},u?{}:{"aria-hidden":!0});return React__default.createElement("div",_extends({onAnimationEnd:handleSlideAnimationEnd,className:"Calendar__monthYear ".concat(e?"-shown":"-hiddenNext"),role:"presentation",key:String(e)},d),React__default.createElement("button",_extends({onClick:i,type:"button",className:"Calendar__monthText","aria-label":l?E:D,tabIndex:u?"0":"-1"},d),a),React__default.createElement("button",_extends({onClick:c,type:"button",className:"Calendar__yearText","aria-label":s?R:b,tabIndex:u?"0":"-1"},d),n))}));return React__default.createElement("div",{ref:d,className:"Calendar__header"},React__default.createElement("button",{className:"Calendar__monthArrowWrapper -right",onClick:function(){N("PREVIOUS")},"aria-label":S,type:"button",disabled:A},React__default.createElement("span",{className:"Calendar__monthArrow"})),React__default.createElement("div",{className:"Calendar__monthYearContainer",ref:m,"data-testid":"month-year-container"}," ",T),React__default.createElement("button",{className:"Calendar__monthArrowWrapper -left",onClick:function(){N("NEXT")},"aria-label":v,type:"button",disabled:C},React__default.createElement("span",{className:"Calendar__monthArrow"})))},handleArrowKeys=function(e,t){var a=t.allowVerticalArrows,n=document.activeElement,r=function(e,t){return e?e.children[t]:null},o=function(e){return e&&(e.hasAttribute("aria-hidden")?null:e)},i=n.parentElement,c=i.nextSibling,l=i.previousSibling,s=o(n.nextSibling||r(c,0)),u=l?l.children.length-1:0,d=o(n.previousSibling||r(l,u)),m=function(e){return r(e,Array.from(n.parentElement.children).indexOf(n))},f=o(m(c)),h=o(m(l));"true"===n.dataset.isDefaultSelectable||(n.tabIndex="-1");var y=function(t){e.preventDefault(),t&&(t.setAttribute("tabindex","0"),t.focus())};switch(e.key){case"ArrowRight":y(s);break;case"ArrowLeft":y(d);break;case"ArrowDown":a&&y(f);break;case"ArrowUp":a&&y(h)}},MonthSelector=function(e){var t=e.activeDate,a=e.maximumDate,n=e.minimumDate,r=e.onMonthSelect,o=e.isOpen,i=e.locale,c=React.useRef(null);React.useEffect((function(){var e=o?"add":"remove";c.current.classList[e]("-open")}),[o]);var l=useLocaleUtils(i),s=l.getMonthNumber,u=l.isBeforeDate,d=useLocaleLanguage(i).months;return React__default.createElement("div",_extends({role:"presentation",className:"Calendar__monthSelectorAnimationWrapper"},o?{}:{"aria-hidden":!0}),React__default.createElement("div",{role:"presentation","data-testid":"month-selector-wrapper",className:"Calendar__monthSelectorWrapper",onKeyDown:function(e){handleArrowKeys(e,{allowVerticalArrows:!1})}},React__default.createElement("ul",{ref:c,className:"Calendar__monthSelector","data-testid":"month-selector"},d.map((function(e){var i=s(e),c={day:1,month:i,year:t.year},l=a&&u(a,_objectSpread2({},c,{month:i})),d=n&&(u(_objectSpread2({},c,{month:i+1}),n)||isSameDay(_objectSpread2({},c,{month:i+1}),n)),m=i===t.month;return React__default.createElement("li",{key:e,className:"Calendar__monthSelectorItem ".concat(m?"-active":"")},React__default.createElement("button",{tabIndex:m&&o?"0":"-1",onClick:function(){r(i)},className:"Calendar__monthSelectorItemText",type:"button",disabled:l||d,"aria-pressed":m,"data-is-default-selectable":m},e))})))))},YearSelector=function(e){for(var t=e.isOpen,a=e.activeDate,n=e.onYearSelect,r=e.selectorStartingYear,o=void 0===r?0:r,i=e.selectorEndingYear,c=void 0===i?0:i,l=e.maximumDate,s=e.minimumDate,u=e.locale,d=React.useRef(null),m=React.useRef(null),f=useLocaleUtils(u),h=f.getLanguageDigits,y=f.getToday,g=o||y().year-MINIMUM_SELECTABLE_YEAR_SUBTRACT,p=c||y().year+MAXIMUM_SELECTABLE_YEAR_SUM,_=[],v=g;v<=p;v+=1)_.push(v);React.useEffect((function(){var e=t?"add":"remove",a=d.current.querySelector(".Calendar__yearSelectorItem.-active");if(!a)throw new RangeError("Provided value for year is out of selectable year range. You're probably using a wrong locale prop value or your provided value's locale is different from the date picker locale. Try changing the 'locale' prop or the value you've provided.");d.current.classList[e]("-faded"),m.current.scrollTop=a.offsetTop-5*a.offsetHeight,m.current.classList[e]("-open")}),[t]);return React__default.createElement("div",_extends({className:"Calendar__yearSelectorAnimationWrapper",role:"presentation"},t?{}:{"aria-hidden":!0}),React__default.createElement("div",{ref:d,className:"Calendar__yearSelectorWrapper",role:"presentation","data-testid":"year-selector-wrapper",onKeyDown:function(e){handleArrowKeys(e,{allowVerticalArrows:!1})}},React__default.createElement("ul",{ref:m,className:"Calendar__yearSelector","data-testid":"year-selector"},_.map((function(e){var r=l&&e>l.year,o=s&&e<s.year,i=a.year===e;return React__default.createElement("li",{key:e,className:"Calendar__yearSelectorItem ".concat(i?"-active":"")},React__default.createElement("button",{tabIndex:i&&t?"0":"-1",className:"Calendar__yearSelectorText",type:"button",onClick:function(){n(e)},disabled:r||o,"aria-pressed":i,"data-is-default-selectable":i},h(e)))})))))},_excluded=["isDisabled"],DaysList=function(e){var t=e.activeDate,a=e.value,n=e.monthChangeDirection,r=e.onSlideChange,o=e.disabledDays,i=void 0===o?[]:o,c=e.onDisabledDayError,l=void 0===c?function(){}:c,s=e.minimumDate,u=e.maximumDate,d=e.onChange,m=void 0===d?function(){}:d,f=e.locale,h=e.calendarTodayClassName,y=void 0===h?"":h,g=e.calendarSelectedDayClassName,p=void 0===g?"":g,_=e.calendarRangeStartClassName,v=void 0===_?"":_,S=e.calendarRangeEndClassName,D=void 0===S?"":S,E=e.calendarRangeBetweenClassName,b=void 0===E?"":E,R=e.shouldHighlightWeekends,C=void 0!==R&&R,A=e.isQuickSelectorOpen,N=e.customDaysClassName,T=React.useRef(null),w=useLocaleLanguage(f),L=w.isRtl,j=w.weekDays,M=useLocaleUtils(f),O=M.getToday,P=M.isBeforeDate,k=M.checkDayInDayRange,Y=M.getMonthFirstWeekday,I=M.getMonthLength,x=M.getLanguageDigits,W=M.getMonthName,U=O();React.useEffect((function(){n&&animateContent({direction:n,parent:T.current})}),[n]);var G=function(e){var t=function(){switch(getValueType(a)){case TYPE_SINGLE_DATE:return e;case TYPE_RANGE:return function(e){var t=deepCloneObject(a),n=t.from&&t.to?{from:null,to:null}:t,r=n.from?"to":"from";n[r]=e;var o=n.from,c=n.to;P(n.to,n.from)&&(n.from=c,n.to=o);var s=i.find((function(e){return k({day:e,from:n.from,to:n.to})}));return s?(l(s),a):n}(e);case TYPE_MUTLI_DATE:return function(e){var t=a.some((function(t){return isSameDay(t,e)})),n=[].concat(_toConsumableArray(a),[e]),r=a.filter((function(t){return!isSameDay(t,e)}));return t?r:n}(e)}}();m(t)},B=function(e){var t,n,r=isSameDay(e,U),o=(t=e,(n=getValueType(a))===TYPE_SINGLE_DATE?isSameDay(t,a):n===TYPE_MUTLI_DATE?a.some((function(e){return isSameDay(e,t)})):void 0),i=a||{},c=i.from,l=i.to;return{isToday:r,isSelected:o,isStartingDayRange:isSameDay(e,c),isEndingDayRange:isSameDay(e,l),isWithinRange:k({day:e,from:c,to:l})}},J=function(e){var t=e.isDisabled,a=_objectWithoutProperties(e,_excluded);t?l(a):G(a)},H=function(e,a){var n=e.id,r=e.value,o=e.month,c=e.year,l=e.isStandard,d={day:r,month:o,year:c},m=i.some((function(e){return isSameDay(d,e)})),f=P(d,s),h=P(u,d),g=m||l&&(f||h),_=j.some((function(e,t){return e.isWeekend&&t===a})),S=function(e){var t=B(e),a=t.isToday,n=t.isSelected,r=t.isStartingDayRange,o=t.isEndingDayRange,i=t.isWithinRange,c=N.find((function(t){return isSameDay(e,t)}));return"".concat(a&&!n?" -today ".concat(y):"").concat(e.isStandard?"":" -blank").concat(e.isWeekend&&C?" -weekend":"").concat(c?" ".concat(c.className):"").concat(n?" -selected ".concat(p):"").concat(r?" -selectedStart ".concat(v):"").concat(o?" -selectedEnd ".concat(D):"").concat(i?" -selectedBetween ".concat(b):"").concat(e.isDisabled?" -disabled":"")}(_objectSpread2({},d,{isWeekend:_,isStandard:l,isDisabled:g})),E="".concat(j[a].name,", ").concat(r," ").concat(W(o)," ").concat(c),R=o===t.month,T=B(d),w=T.isSelected,M=T.isStartingDayRange,O=T.isEndingDayRange,k=T.isWithinRange,Y=function(e){var t=e.isOnActiveSlide,a=e.isStandard,n=e.isSelected,r=e.isStartingDayRange,o=e.isToday,i=e.day;return!(A||!t||!a)&&(!!(n||r||o||1===i)||void 0)}(_objectSpread2({},d,{},T,{isOnActiveSlide:R,isStandard:l}));return React__default.createElement("div",_extends({tabIndex:Y?"0":"-1",key:n,className:"Calendar__day -".concat(L?"rtl":"ltr"," ").concat(S),onClick:function(){J(_objectSpread2({},d,{isDisabled:g}))},onKeyDown:function(e){"Enter"===e.key&&J(_objectSpread2({},d,{isDisabled:g}))},"aria-disabled":g,"aria-label":E,"aria-selected":w||M||O||k},l&&R&&!A?{}:{"aria-hidden":!0},{role:"gridcell","data-is-default-selectable":Y}),l?x(r):"")},K=function(e){var a=function(e){var t=createUniqueRange(Y(e),"starting-blank"),a=createUniqueRange(I(e)).map((function(t){return _objectSpread2({},t,{isStandard:!0,month:e.month,year:e.year})}));return[].concat(_toConsumableArray(t),_toConsumableArray(a))}(getSlideDate({activeDate:t,isInitialActiveChild:e,monthChangeDirection:n,parent:T.current}));return Array.from(Array(6).keys()).map((function(e){var t=a.slice(7*e,7*e+7).map(H);return React__default.createElement("div",{key:String(e),className:"Calendar__weekRow",role:"row"},t)}))};return React__default.createElement("div",{ref:T,className:"Calendar__sectionWrapper",role:"presentation","data-testid":"days-section-wrapper",onKeyDown:function(e){handleArrowKeys(e,{allowVerticalArrows:!0})}},React__default.createElement("div",{onAnimationEnd:function(e){handleSlideAnimationEnd(e),r()},className:"Calendar__section -shown",role:"rowgroup"},K(!0)),React__default.createElement("div",{onAnimationEnd:function(e){handleSlideAnimationEnd(e),r()},className:"Calendar__section -hiddenNext",role:"rowgroup"},K(!1)))},Calendar=function(e){var t=e.value,a=void 0===t?null:t,n=e.onChange,r=e.onDisabledDayError,o=e.calendarClassName,i=void 0===o?"":o,c=e.calendarTodayClassName,l=e.calendarSelectedDayClassName,s=e.calendarRangeStartClassName,u=e.calendarRangeBetweenClassName,d=e.calendarRangeEndClassName,m=e.disabledDays,f=e.colorPrimary,h=void 0===f?"#0eca2d":f,y=e.colorPrimaryLight,g=void 0===y?"#cff4d5":y,p=e.slideAnimationDuration,_=void 0===p?"0.4s":p,v=e.minimumDate,S=void 0===v?null:v,D=e.maximumDate,E=void 0===D?null:D,b=e.selectorStartingYear,R=e.selectorEndingYear,C=e.locale,A=void 0===C?"en":C,N=e.shouldHighlightWeekends,T=e.renderFooter,w=void 0===T?function(){return null}:T,L=e.customDaysClassName,j=void 0===L?[]:L,M=React.useRef(null),O=_slicedToArray(React.useState({activeDate:null,monthChangeDirection:"",isMonthSelectorOpen:!1,isYearSelectorOpen:!1}),2),P=O[0],k=O[1];React.useEffect((function(){if(null!==M.current){var e=function(e){"Tab"===e.key&&M.current.classList.remove("-noFocusOutline")};return M.current.addEventListener("keyup",e,!1),function(){null!==M.current&&M.current.removeEventListener("keyup",e,!1)}}}),[M]);var Y,I=useLocaleUtils(A).getToday,x=useLocaleLanguage(A),W=x.weekDays,U=x.isRtl,G=I(),B=function(e){return function(){k(_objectSpread2({},P,_defineProperty({},e,!P[e])))}},J=B("isMonthSelectorOpen"),H=B("isYearSelectorOpen"),K=P.activeDate?shallowClone(P.activeDate):(Y=getValueType(a))===TYPE_MUTLI_DATE&&a.length?shallowClone(a[0]):Y===TYPE_SINGLE_DATE&&a?shallowClone(a):Y===TYPE_RANGE&&a.from?shallowClone(a.from):shallowClone(G),V=W.map((function(e){return React__default.createElement("abbr",{key:e.name,title:e.name,className:"Calendar__weekDay"},e.short)}));return React__default.createElement("div",{className:"Calendar -noFocusOutline ".concat(i," -").concat(U?"rtl":"ltr"),role:"grid",style:{"--cl-color-primary":h,"--cl-color-primary-light":g,"--animation-duration":_},ref:M},React__default.createElement(Header,{maximumDate:E,minimumDate:S,activeDate:K,onMonthChange:function(e){k(_objectSpread2({},P,{monthChangeDirection:e}))},onMonthSelect:J,onYearSelect:H,monthChangeDirection:P.monthChangeDirection,isMonthSelectorOpen:P.isMonthSelectorOpen,isYearSelectorOpen:P.isYearSelectorOpen,locale:A}),React__default.createElement(MonthSelector,{isOpen:P.isMonthSelectorOpen,activeDate:K,onMonthSelect:function(e){k(_objectSpread2({},P,{activeDate:_objectSpread2({},K,{month:e}),isMonthSelectorOpen:!1}))},maximumDate:E,minimumDate:S,locale:A}),React__default.createElement(YearSelector,{isOpen:P.isYearSelectorOpen,activeDate:K,onYearSelect:function(e){k(_objectSpread2({},P,{activeDate:_objectSpread2({},K,{year:e}),isYearSelectorOpen:!1}))},selectorStartingYear:b,selectorEndingYear:R,maximumDate:E,minimumDate:S,locale:A}),React__default.createElement("div",{className:"Calendar__weekDays"},V),React__default.createElement(DaysList,{activeDate:K,value:a,monthChangeDirection:P.monthChangeDirection,onSlideChange:function(){k(_objectSpread2({},P,{activeDate:getDateAccordingToMonth(K,P.monthChangeDirection),monthChangeDirection:""}))},disabledDays:m,onDisabledDayError:r,minimumDate:S,maximumDate:E,onChange:n,calendarTodayClassName:c,calendarSelectedDayClassName:l,calendarRangeStartClassName:s,calendarRangeEndClassName:d,calendarRangeBetweenClassName:u,locale:A,shouldHighlightWeekends:N,customDaysClassName:j,isQuickSelectorOpen:P.isYearSelectorOpen||P.isMonthSelectorOpen}),React__default.createElement("div",{className:"Calendar__footer"},w()))},DatePickerInput=React__default.forwardRef((function(e,t){var a=e.value,n=e.inputPlaceholder,r=void 0===n?"":n,o=e.inputClassName,i=void 0===o?"":o,c=e.inputName,l=void 0===c?"":c,s=e.formatInputText,u=void 0===s?function(){}:s,d=e.renderInput,m=void 0===d?function(){return null}:d,f=e.locale,h=useLocaleUtils(f).getLanguageDigits,y=useLocaleLanguage(f),g=y.from,p=y.to,_=y.yearLetterSkip,v=y.digitSeparator,S=y.defaultPlaceholder,D=y.isRtl,E=function(){if(u())return u();switch(getValueType(a)){case TYPE_SINGLE_DATE:return function(){if(!a)return"";var e=h(a.year),t=h(putZero(a.month)),n=h(putZero(a.day));return"".concat(e,"/").concat(t,"/").concat(n)}();case TYPE_RANGE:return function(){if(!a.from||!a.to)return"";var e=a.from,t=a.to,n="".concat(h(putZero(e.year)).toString().slice(_),"/").concat(h(putZero(e.month)),"/").concat(h(putZero(e.day))),r="".concat(h(putZero(t.year)).toString().slice(_),"/").concat(h(putZero(t.month)),"/").concat(h(putZero(t.day)));return"".concat(g," ").concat(n," ").concat(p," ").concat(r)}();case TYPE_MUTLI_DATE:return a.map((function(e){return h(e.day)})).join("".concat(v," "))}},b=r||S;return m({ref:t})||React__default.createElement("input",{"data-testid":"datepicker-input",readOnly:!0,ref:t,value:E(),name:l,placeholder:b,className:"DatePicker__input -".concat(D?"rtl":"ltr"," ").concat(i),"aria-label":b})})),DatePicker=function(e){var t=e.value,a=e.onChange,n=e.formatInputText,r=e.inputPlaceholder,o=e.inputClassName,i=e.inputName,c=e.renderInput,l=e.wrapperClassName,s=void 0===l?"":l,u=e.calendarClassName,d=e.calendarTodayClassName,m=e.calendarSelectedDayClassName,f=e.calendarRangeStartClassName,h=e.calendarRangeBetweenClassName,y=e.calendarRangeEndClassName,g=e.calendarPopperPosition,p=void 0===g?"auto":g,_=e.disabledDays,v=e.onDisabledDayError,S=e.colorPrimary,D=e.colorPrimaryLight,E=e.slideAnimationDuration,b=e.minimumDate,R=e.maximumDate,C=e.selectorStartingYear,A=e.selectorEndingYear,N=e.locale,T=void 0===N?"en":N,w=e.shouldHighlightWeekends,L=e.renderFooter,j=e.customDaysClassName,M=React.useRef(null),O=React.useRef(null),P=React.useRef(!1),k=_slicedToArray(React.useState(!1),2),Y=k[0],I=k[1];React.useEffect((function(){var e=function(){I(!1)};return window.addEventListener("blur",e,!1),function(){window.removeEventListener("blur",e,!1)}}),[]),React.useEffect((function(){var e=getValueType(t);e!==TYPE_MUTLI_DATE&&((e===TYPE_SINGLE_DATE?!Y:!Y&&t.from&&t.to)&&O.current.blur())}),[t,Y]);React.useLayoutEffect((function(){if(Y){var e=M.current.getBoundingClientRect(),t=e.left,a=e.width,n=e.height,r=e.top,o=document.documentElement,i=o.clientWidth,c=o.clientHeight,l=t+a>i,s=t<0,u=r+n>c;M.current.style.left=function(){var e=t+a-i;if(l||s){var n=Math.abs(t),r=s?n:0;return l?"calc(50% - ".concat(e,"px)"):"calc(50% + ".concat(r,"px)")}}(),("auto"===p&&u||"top"===p)&&M.current.classList.add("-top")}}),[Y]);return React.useEffect((function(){!Y&&P.current&&(O.current.focus(),P.current=!1)}),[P,Y]),React__default.createElement("div",{onFocus:function(){P.current||I(!0)},onBlur:function(e){if(e.persist(),Y){var t=M.current.contains(e.relatedTarget);P.current?(P.current=!1,O.current.focus()):t&&e.relatedTarget?e.relatedTarget.focus():I(!1)}},onKeyUp:function(e){switch(e.key){case"Enter":I(!0);break;case"Escape":I(!1),P.current=!0}},className:"DatePicker ".concat(s),role:"presentation"},React__default.createElement(DatePickerInput,{ref:O,formatInputText:n,value:t,inputPlaceholder:r,inputClassName:o,renderInput:c,inputName:i,locale:T}),Y&&React__default.createElement(React__default.Fragment,null,React__default.createElement("div",{ref:M,className:"DatePicker__calendarContainer","data-testid":"calendar-container",role:"presentation",onMouseDown:function(){P.current=!0}},React__default.createElement(Calendar,{value:t,onChange:function(e){var n=getValueType(t);a(e),n===TYPE_SINGLE_DATE?I(!1):n===TYPE_RANGE&&e.from&&e.to&&I(!1)},calendarClassName:u,calendarTodayClassName:d,calendarSelectedDayClassName:m,calendarRangeStartClassName:f,calendarRangeBetweenClassName:h,calendarRangeEndClassName:y,disabledDays:_,colorPrimary:S,colorPrimaryLight:D,slideAnimationDuration:E,onDisabledDayError:v,minimumDate:b,maximumDate:R,selectorStartingYear:C,selectorEndingYear:A,locale:T,shouldHighlightWeekends:w,renderFooter:L,customDaysClassName:j})),React__default.createElement("div",{className:"DatePicker__calendarArrow"})))};exports.Calendar=Calendar,exports.default=DatePicker,exports.utils=utils;
